dist: trusty
language: node_js
node_js:
  - "10"
services:
  - mongodb
  - rabbitmq
before_install:
  - echo "install"
  - chmod +x ./shells/env-config.sh
  - ./shells/env-config.sh
  - npm i -g jest
install:
  - npm install
before_script:
  - "echo script"
script:
  - npm run lint
  - jest --coverage && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage
  - echo done
